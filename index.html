<!doctype html><html lang="en"><head><meta charset="utf-8"/><title>Excalidraw | Hand-drawn look & feel • Collaborative • Secure</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover,shrink-to-fit=no"/><meta name="referrer" content="origin"/><meta name="mobile-web-app-capable" content="yes"/><meta name="theme-color" content="#121212"/><style>html.dark{background-color:#121212;color:#fff}body,html{width:100%;height:100%}</style><script>try{window.frameElement.parentElement.parentElement.getAttribute("style")||window.frameElement.parentElement.parentElement.setAttribute("style","text-align: left;")}catch(e){console.error(e)}</script><script>try{navigator.userAgent.match(/android|iphone|ipad|ipod/i)?(window.frameElement.setAttribute("style","position:absolute;left:0px;top:0px;width:100%;height:100%;z-index:1;"),window.frameElement.parentElement.setAttribute("style","width:100%;height:100%;"),window.frameElement.parentElement.parentElement.setAttribute("style","position:absolute;top:0px;left:0px;width:100%;height:100%;overflow:hidden;margin:0px;padding:0px;")):(window.frameElement.setAttribute("style","position:absolute;left:0px;top:0px;width:100%;height:100%;z-index:2;"),window.frameElement.parentElement.setAttribute("style","width:100%;height:100%;"),window.frameElement.parentElement.parentElement.setAttribute("style","position:absolute;top:0px;left:0px;width:100%;height:100%;overflow:hidden;margin:0px;padding:0px;"))}catch(t){}</script><link rel="shortcut icon" href="favicon.ico" type="image/x-icon"/><meta name="version" content="2023-12-26T01:39:18.034Z-none"/><link rel="preload" href="Virgil.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="Cascadia.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="manifest" href="manifest.json" style="--pwacompat-splash-font:24px Virgil"/><link rel="stylesheet" href="fonts.css"/><style>body,html{margin:0;-webkit-text-size-adjust:100%;width:100%;height:100%;overflow:hidden}.visually-hidden{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap;user-select:none}#root{height:100%;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media screen and (min-width:1200px){#root{-webkit-touch-callout:default;-webkit-user-select:auto;-khtml-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}}button.excalidraw-button.collab-button[title="实时协作..."]{display:none}a.encrypted-icon.tooltip[href="https://blog.excalidraw.com/end-to-end-encryption/"]{display:none}button.dropdown-menu-item.dropdown-menu-item-base[data-testid=collab-button]{display:none}.excalidraw .dropdown-menu-container .dropdown-menu-item.ExcalidrawPlus{display:none}a.dropdown-menu-item.dropdown-menu-item-base[aria-label=Discord]{display:none}a.dropdown-menu-item.dropdown-menu-item-base[aria-label=Twitter]{display:none}a.library-menu-browse-button{display:none!important}.library-menu-items-container__header.library-menu-items-container__header--excal{display:none}div[style="margin: 1rem 0px; display: flex; flex-direction: column; align-items: center; justify-content: center; width: 100%; font-size: 0.9rem;"]{display:none!important}#saveBtn{position:fixed;max-width:340px;height:35px;top:34px;left:84px;padding:0 10px;transform:translate(-50%,-50%);z-index:1200;text-align:center;line-height:40px;font-size:14px;border:1px solid #3b3a3a40;border-radius:8px;cursor:pointer}#saveBtn:hover{background-color:rgba(128,0,128,.234)}@media screen and (max-width:631px){#saveBtn{top:83px;left:40px}}html.dark #saveBtn{border:1px solid #474747;background-color:#262627}html.dark #saveBtn:hover{border:1px solid #474747;background-color:#3d3d3d}.ExcalidrawItem:hover{background-color:#8ad4df!important}.ExcalidrawItem.active{background-color:#8ad4df!important}a.dropdown-menu-item.dropdown-menu-item-base[aria-label=GitHub]{display:none}button.dropdown-menu-item.dropdown-menu-item-base[aria-label="重置画布"]+div[style]{display:none}button.dropdown-menu-item.dropdown-menu-item-base[aria-label="帮助"]{display:none}button.dropdown-menu-item.dropdown-menu-item-base[aria-label="保存到..."]{display:none}.Island.App-toolbar{background-color:#d2d2d229!important}.library-button{background-color:#d2d2d229!important}.Stack.Stack_vertical.zoom-actions{background-color:#d2d2d229!important}.undo-redo-buttons.zen-mode-transition{background-color:#d2d2d229!important}button.help-icon{background-color:#d2d2d229!important}</style><script defer="defer" src="./static/js/main.00b9a245.js"></script><link href="./static/css/main.ff3eb8a8.css" rel="stylesheet"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><header><h1 class="visually-hidden">Excalidraw</h1></header><div id="root"></div><div id="myMessage" style="display:none;position:fixed;max-width:440px;min-height:25px;top:17px;left:120px;padding:0 10px;color:#fff;background-color:#d23f31;z-index:1800;text-align:left;line-height:25px;font-size:14px;border-radius:7px"></div><div id="saveBtn"> <?xml version="1.0" standalone="no"?><!doctype html><svg t="1703046678574" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1875" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M925.248 356.928l-258.176-258.176a64 64 0 0 0-45.248-18.752H144a64 64 0 0 0-64 64v736a64 64 0 0 0 64 64h736a64 64 0 0 0 64-64V402.176a64 64 0 0 0-18.752-45.248zM288 144h192V256H288V144z m448 736H288V736h448v144z m144 0H800V704a32 32 0 0 0-32-32H256a32 32 0 0 0-32 32v176H144v-736H224V288a32 32 0 0 0 32 32h256a32 32 0 0 0 32-32V144h77.824l258.176 258.176V880z" p-id="1876"></path></svg></div><div id="searchPanel" style="position:fixed;z-index:1000;top:62px;left:6px;width:24vw;min-width:300px;height:74vh;background:#f8f9fa;box-shadow:0 0 6px 0 #0000008c;visibility:hidden;overflow:auto;padding:0 27px"><div style="position:sticky;top:0;padding-top:10px;margin-bottom:20px;background-color:#f8f9fa;z-index:1;display:flex" class="topBar"><input id="keywordInput" placeholder="检索关键字" style="outline:0;color:#000;background:#fff;border:1px solid gray;border-radius:4px;flex:1" size="20"></div><div id="targetArrContainer" class="targetArrContainer"></div></div><script>let myMessage=document.getElementById("myMessage");function showMessage(e){myMessage&&(myMessage.innerText=e,myMessage.style.display="block",setTimeout((()=>{myMessage.style.display="none"}),2e3))}window.myAltKey=!1,window._removeSpace=!1,document.addEventListener("keydown",(e=>{e.altKey&&"q"===e.key&&(window.myAltKey=!0,showMessage("预览模式")),e.altKey&&"w"===e.key&&(window.myAltKey=!1,showMessage("关闭预览")),e.altKey&&"d"===e.key&&(window._removeSpace=!window._removeSpace,window._removeSpace?showMessage("开启状态——可清除字符串中多余的空格"):showMessage("关闭状态——不主动清除字符串中的多余空格"))}),!0);let saveBtn=document.getElementById("saveBtn");saveBtn.addEventListener("click",(e=>{document.dispatchEvent(new KeyboardEvent("keydown",{key:"S",ctrlKey:!0}))}),!1)</script><script>function patseIntoClipboard(e){let t=!1;const a=document.createElement("textarea");return document.body.appendChild(a),a.innerHTML=e,a.select(),document.execCommand("copy")?(document.execCommand("copy"),t=!0):showMessage("复制失败"),document.body.removeChild(a),t}async function getElementIDFromClipboadr(){let e=await navigator.clipboard.readText();if(!e.startsWith('{"type":"excalidraw/clipboard"'))return showMessage("刚刚复制的不是画板元素！"),null;let t,a=e.match(/\"id\"\:\"(.+?)\"/);if(!a||!a[1])return showMessage("ID匹配失败"),null;t=a[1];patseIntoClipboard(`excalidraw://${t}`);showMessage("已将链接复制到剪切板")}(async()=>{function e(e,t=null){return new Promise(((a,n)=>{fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>a(e.json())),(e=>{n(e)})).catch((e=>{console.error("请求失败:",e)}))}))}const t=document.getElementById("searchPanel"),a=document.getElementById("keywordInput"),n=document.getElementById("targetArrContainer");let i=[],r=-1;a.addEventListener("input",function(e,t=500){let a=null;return function(...n){clearTimeout(a),a=setTimeout((()=>{e.apply(this,n)}),t)}}((async function(){const t=a.value.trim();if(i=[],t.length>0)if(n.innerHTML="",i=await async function(t){let a=[];t=t.trim();let n=window.frameElement.parentElement.parentElement.getAttribute("data-node-id"),i=`assets/ExcalidrawFiles/${n}.excalidraw`,r=await e("/api/attr/getBlockAttrs",{id:n});r?.data["custom-data-assets"]&&(i=r.data["custom-data-assets"]);let s=(await e("/api/file/getFile",{path:`/data/${i}`})).elements;if(s&&t.length>0){let e=t.split(" ");e=e.filter((e=>e.trim())),e=Array.from(new Set(e));for(let t of s)"text"===t.type&&e.every((e=>new RegExp(`${e}`,"i").test(t.text)))&&(t.text=t.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.forEach((e=>{let a=new RegExp(`${e}`,"ig");t.text=t.text.replace(a,(function(e){return` ${e} `}))})),e.forEach((e=>{let a=new RegExp(` ${e} `,"ig");t.text=t.text.replace(a,(function(e){return`<span style="background-color:#ffe955;color:black;">${e.trim()}</span>`}))})),a.push([t.text,t.id,t.x,t.y]))}return a}(t),i.length>0){const e=document.createDocumentFragment();i.forEach((t=>{const a=document.createElement("div");a.className="ExcalidrawItem",a.style.marginTop="6px",a.style.color="black",a.style.backgroundColor="#ffffff",a.style.borderRadius="4px",a.style.padding="3px",a.setAttribute("data-x",t[2]),a.setAttribute("data-y",t[3]),a.innerHTML=`${t[0]}`,e.appendChild(a)})),n.appendChild(e)}else n.innerHTML="未查找到相关结果！",r=-1;else n.innerHTML="未查找到相关结果！",r=-1})),!1),n.addEventListener("click",(e=>{e.stopPropagation();let t=n.querySelectorAll("div.ExcalidrawItem");if(e.target.classList.contains("ExcalidrawItem")){const a=parseInt(e.target.getAttribute("data-x")),n=parseInt(e.target.getAttribute("data-y"));window.dispatchEvent(new CustomEvent("searchKeyword",{detail:{x:a,y:n}}));for(let a=0;a<t.length;a++)e.target!==t[a]||t[a].classList.contains("active")?t[a].classList.remove("active"):(t[a].classList.add("active"),r=a)}else if("SPAN"===e.target.tagName&&e.target.parentElement.classList.contains("ExcalidrawItem")){const a=parseInt(e.target.parentElement.getAttribute("data-x")),n=parseInt(e.target.parentElement.getAttribute("data-y"));window.dispatchEvent(new CustomEvent("searchKeyword",{detail:{x:a,y:n}}));for(let a=0;a<t.length;a++)e.target.parentElement!==t[a]||t[a].classList.contains("active")?t[a].classList.remove("active"):t[a].classList.add("active")}}),!1),t.addEventListener("click",(e=>{e.stopPropagation()}),!1),document.addEventListener("keydown",(e=>{e.altKey&&"t"===e.key&&(t.style.visibility="hidden"===t.style.visibility?"visible":"hidden",a.focus(),r=-1)}),!1),document.addEventListener("click",(e=>{"visible"===t.style.visibility&&(t.style.visibility="hidden")}),!1),a.addEventListener("keydown",(e=>{if(i.length>0&&("ArrowDown"===e.key||"ArrowUp"===e.key)){"ArrowDown"===e.key?r++:"ArrowUp"===e.key&&(e.preventDefault(),r--),r>i.length-1&&(r=0),r<0&&(r=i.length-1);let t=n.querySelectorAll("div.ExcalidrawItem");for(let e=0;e<t.length;e++)e!==r||t[e].classList.contains("active")?t[e].classList.remove("active"):t[e].classList.add("active");const a=parseInt(i[r][2]),s=parseInt(i[r][3]);window.dispatchEvent(new CustomEvent("searchKeyword",{detail:{x:a,y:s}}))}}),!1)})(),window.addEventListener("keydown",(e=>{e.ctrlKey&&"j"===e.key&&getElementIDFromClipboadr()}),!1)</script></body></html>